<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="form.js"></script>
    <link rel="stylesheet" href="site.css" />
    <script src='http://code.jquery.com/jquery-3.2.1.min.js'></script>
</head>
<body>
    <form>
        <div>
            <p>id_employment_name</p>
            <input type="text" id="id_employment_name"></br>
            <p>id_employment_type</p>
            <input type="text" id="id_employment_type"></br>
            <p>id_groups</p>
            <input type="text" id="id_groups"></br>
            <p>id_lecturers</p>
            <input type="text" id="id_lecturers"></br>
            <p>id_auditoriums</p>
            <input type="text" id="id_auditoriums"></br>
            <p>id_dates</p>
            <input type="text" id="id_dates"></br>
            <input type="button" value="Добавить" onclick="addTimeTable()"/>
        </div>
    </form>
    <script>
        function addTimeTable() {
            var xhr = new XMLHttpRequest();
            var json = JSON.stringify({
                id_employment_name: document.getElementById("id_employment_name").value,
                id_employment_type: document.getElementById("id_employment_type").value,
                id_groups: document.getElementById("id_groups").value,
                id_lecturers: document.getElementById("id_lecturers").value,
                id_auditoriums: document.getElementById("id_auditoriums").value,
                id_dates: document.getElementById("id_dates").value
            });

            xhr.open("POST", "http://localhost:3000/api/timetable/createTable", false)
            xhr.setRequestHeader('Content-Type', 'application/json')
            xhr.send(json);
            if (xhr.status != 200) {
                alert( xhr.status + ': ' + xhr.statusText );
            } else {
                alert( xhr.responseText );
            }
        }
    </script>
</body>
</html>