<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="site.css" />
    <script src='http://code.jquery.com/jquery-3.2.1.min.js'></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!— Optional theme —>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!— Latest compiled and minified JavaScript —>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
</head>
<body>
    <form>
        <div>
            <p>id</p>
            <input type="text" id="id1"></table></br>
            <p>id_employment_name</p>
            <input type="text" id="id_employment_name"></br>
            <p>id_employment_type</p>
            <input type="text" id="id_employment_type"></br>
            <p>id_groups</p>
            <input type="text" id="id_groups"></br>
            <p>id_lecturers</p>
            <input type="text" id="id_lecturers"></br>
            <p>id_auditoriums</p>
            <input type="text" id="id_auditoriums"></br>
            <p>id_dates</p>
            <input type="text" id="id_dates"></br>
            <input type="button" value="Изменить" onclick="updateTimetable"/>
        </div>
    </form>
    <script>
        function updateTimetable() {
            var xhr = new XMLHttpRequest();
            var json = JSON.stringify({
                id: document.getElementById("id1").value,
                id_employment_name: document.getElementById("id_employment_name").value,
                id_employment_type: document.getElementById("id_employment_type").value,
                id_groups: document.getElementById("id_groups").value,
                id_lecturers: document.getElementById("id_lecturers").value,
                id_auditoriums: document.getElementById("id_auditoriums").value,
                id_dates: document.getElementById("id_dates").value
            });

            xhr.open("POST", "http://localhost:3000/api/timetable/updTable", false)
            xhr.setRequestHeader('Content-Type', 'application/json')
            xhr.send(json);
            if (xhr.status != 200) {
                alert( xhr.status + ': ' + xhr.statusText );
            } else {
                alert( xhr.responseText );
            }
        }
    </script>
</body>
</html>